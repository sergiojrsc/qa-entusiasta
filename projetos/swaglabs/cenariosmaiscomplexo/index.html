<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.122.0">
    <meta name="generator" content="Relearn 5.26.1+tip">
    <meta name="description" content="">
    <meta name="author" content="Sérgio Junior Schmitt">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="    QA Entusiasta">
    <meta name="twitter:description" content="Criando um cenário mais complexo utilizando algumas funcionalidades Criar um cenário um pouco mais complexo para demonstrar o uso de algumas funcionalidades que vai auxiliar na automação.
O intuito é criar um cenário onde clique em todos os produtos para serem adicionados no carrinho. Ao fazer este teste na página Swag Labs, podemos verificar o cenário funcionando e simular o mesmo cenário com problema, alterando apenas o usuário.
Segue os usuários que vão ser utilizados:">
    <meta property="og:title" content="    QA Entusiasta">
    <meta property="og:description" content="Criando um cenário mais complexo utilizando algumas funcionalidades Criar um cenário um pouco mais complexo para demonstrar o uso de algumas funcionalidades que vai auxiliar na automação.
O intuito é criar um cenário onde clique em todos os produtos para serem adicionados no carrinho. Ao fazer este teste na página Swag Labs, podemos verificar o cenário funcionando e simular o mesmo cenário com problema, alterando apenas o usuário.
Segue os usuários que vão ser utilizados:">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://sergiojrsc.github.io/qa-entusiasta/projetos/swaglabs/cenariosmaiscomplexo/index.html">
    <meta property="article:section" content="    QA Entusiasta">
    <meta property="og:site_name" content="QA Entusiasta">
    <title>    QA Entusiasta</title><link rel="icon" href="/qa-entusiasta/images/icon.svg" type="image/svg">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/qa-entusiasta/css/fontawesome-all.min.css?1710941247" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/qa-entusiasta/css/fontawesome-all.min.css?1710941247" rel="stylesheet"></noscript>
    <link href="/qa-entusiasta/css/nucleus.css?1710941247" rel="stylesheet">
    <link href="/qa-entusiasta/css/auto-complete.css?1710941247" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/qa-entusiasta/css/auto-complete.css?1710941247" rel="stylesheet"></noscript>
    <link href="/qa-entusiasta/css/perfect-scrollbar.min.css?1710941247" rel="stylesheet">
    <link href="/qa-entusiasta/css/fonts.css?1710941247" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/qa-entusiasta/css/fonts.css?1710941247" rel="stylesheet"></noscript>
    <link href="/qa-entusiasta/css/theme.css?1710941247" rel="stylesheet">
    <link href="/qa-entusiasta/css/theme-zen-light.css?1710941247" rel="stylesheet" id="R-variant-style">
    <link href="/qa-entusiasta/css/chroma-relearn-light.css?1710941247" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/qa-entusiasta/css/variant.css?1710941247" rel="stylesheet">
    <link href="/qa-entusiasta/css/print.css?1710941247" rel="stylesheet" media="print">
    <link href="/qa-entusiasta/css/ie.css?1710941247" rel="stylesheet">
    <script src="/qa-entusiasta/js/url.js?1710941247"></script>
    <script src="/qa-entusiasta/js/variant.js?1710941247"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.baseUri='..\/..\/..';
      window.relearn.baseUriFull='https:\/\/sergiojrsc.github.io\/qa-entusiasta';
      // variant stuff
      window.relearn.themeVariantModifier='';
      window.variants && variants.init( [ 'zen-light', 'zen-dark' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/qa-entusiasta/projetos/swaglabs/cenariosmaiscomplexo/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <span class="topbar-breadcrumbs highlightable">
             
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id=""> </h1>

<h1 id="criando-um-cenário-mais-complexo-utilizando-algumas-funcionalidades">Criando um cenário mais complexo utilizando algumas funcionalidades</h1>
<p>Criar um cenário um pouco mais complexo para demonstrar o uso de algumas funcionalidades que vai auxiliar na automação.</p>
<p>O intuito é criar um cenário onde clique em todos os produtos para serem adicionados no carrinho. Ao fazer este teste na página Swag Labs, podemos verificar o cenário funcionando e simular o mesmo cenário com problema, alterando apenas o usuário.</p>
<p>Segue os usuários que vão ser utilizados:</p>
<ul>
<li><code>standard_user</code> este usuário não possui erro.</li>
<li><code>problem_user</code> este usuário possui erro.</li>
</ul>
<h2 id="pré-requisitos">Pré requisitos</h2>
<ul>
<li>Ter configurado a etapa da tag <code>configurando-codeceptJS</code> <a href="/qa-entusiasta/projetos/swaglabs/codeceptjs/index.html">link</a></li>
<li>Ter configurado a eta da tag <code>configurando-gherkin</code> <a href="/qa-entusiasta/projetos/swaglabs/gherkin/index.html">link</a></li>
</ul>
<h2 id="passos-da-configuração">Passos da configuração</h2>
<ul>
<li><input checked="" disabled="" type="checkbox"> Primeiro passo configurar o <code>expect</code></li>
<li><input checked="" disabled="" type="checkbox"> Segundo passo configurar o <code>loadsh</code></li>
<li><input checked="" disabled="" type="checkbox"> Terceiro passo lógica no step</li>
<li><input checked="" disabled="" type="checkbox"> Quarto passo esquema do cenário</li>
</ul>
<p>Logo abaixo mais detalhes sobre a execução de cada passo.</p>
<h3 id="primeiro-passo-configurar-o-expect">Primeiro passo: configurar o <em><strong>expect</strong></em></h3>
<p>O &ldquo;Expect.js&rdquo; é uma biblioteca de código aberto escrita em JavaScript para testes de unidade e TDD (Desenvolvimento Orientado a Testes) em aplicativos JavaScript. Ele é usado principalmente no desenvolvimento de software para automatizar e simplificar o processo de teste.</p>
<p>O Expect.js fornece uma sintaxe de asserção que é fácil de ler e escrever, permitindo que os desenvolvedores definam comportamentos esperados em seus testes de forma clara e concisa. Ele oferece uma variedade de métodos para testar valores, incluindo igualdade estrita, igualdade profunda, presença de propriedades, entre outros.</p>
<p>Para fazer a instalação dessa biblioteca, executar o seguinte comando conforme orientação da página do npm no <a href="https://www.npmjs.com/package/expect.js" target="_blank">link</a>:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>npm i expect.js@0.3.1</code></pre></div><p>Para saber mais informações de quais métodos utilizar, eu sempre consulto esse <a href="https://www.chaijs.com/api/bdd/" target="_blank">link</a></p>
<p>Segue um exemplo de como utilizei no projeto:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>const expect = require(&#39;expect.js&#39;);
const _ =require(&#39;lodash&#39;);

const productsPage = require(&#39;../pages/produtcs.page&#39;);

Given (&#39;adicionar todos os produtos no carrinho&#39;, async()=&gt;{
    let listNameProducts = []
    listNameProducts = await productsPage.getListNameAllProducts();
    for (const key in listNameProducts) {
        await productsPage.clickAddToCartProduct(listNameProducts[key])
    }
});

Then (&#39;a quantidade de produtos adicionado no carrinho deve ser a mesma quantidade de produtos exibido&#39;, async()=&gt;{
    const quantityProduct = await productsPage.getQuantityProducts();
    const quantityAddToCart = _.toNumber(await productsPage.getNumberProductAddToCart());
    expect(quantityAddToCart).to.equal(quantityProduct.length);
});</code></pre></div><ul>
<li>Para fazer a importação da biblioteca utilizei a seguinte linha de código:
<div class="highlight wrap-code"><pre tabindex="0"><code>const expect = require(&#39;expect.js&#39;);</code></pre></div></li>
<li>Para fazer a validação da quantidade de produtos que está sendo exibido no carrinho é igual a quantidade de produtos que foram clicados para serem adicionados:
<div class="highlight wrap-code"><pre tabindex="0"><code>expect(quantityAddToCart).to.equal(quantityProduct.length);</code></pre></div><ul>
<li><code>expect</code>: Esta é a função de asserção, usada para definir uma asserção nos testes.</li>
<li><code>quantityAddToCart</code>: Variável onde foi armazenada a quantidade que foi adicionada ao carrinho.</li>
<li><code>.to.equal(quantityProduct.length)</code>: Este é o método de asserção <strong>.to.equal(&hellip;)</strong>, que verifica se o valor <strong>quantityAddToCart</strong> é igual ao comprimento (length) de <strong>quantityProduct</strong>. Se forem iguais, o teste passa, caso contrário, o teste falha.</li>
</ul>
</li>
</ul>
<h3 id="segundo-passo-configurar-o-loadsh">Segundo passo: configurar o <em><strong>loadsh</strong></em></h3>
<p>Lodash é uma biblioteca JavaScript de utilitários que simplifica a manipulação de dados em JavaScript. Ela fornece funções de utilitário para trabalhar com arrays, objetos, strings, funções, e mais, de forma consistente e eficiente em termos de desempenho.</p>
<p>Para fazer a instalação dessa biblioteca executar o seguinte comando conforme orientação da página do npm no <a href="https://www.npmjs.com/package/lodash" target="_blank">link</a>:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>npm i lodash</code></pre></div><p>Para saber mais informações de quais métodos utilizar, eu sempre consulto esse <a href="https://lodash.com/docs/4.17.15" target="_blank">link</a></p>
<p>Segue um exemplo de como utilizei no projeto:
Segue um exemplo de como utilizei no projeto:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>const expect = require(&#39;expect.js&#39;);
const _ =require(&#39;lodash&#39;);

const productsPage = require(&#39;../pages/produtcs.page&#39;);

Given (&#39;adicionar todos os produtos no carrinho&#39;, async()=&gt;{
    let listNameProducts = []
    listNameProducts = await productsPage.getListNameAllProducts();
    for (const key in listNameProducts) {
        await productsPage.clickAddToCartProduct(listNameProducts[key])
    }
});

Then (&#39;a quantidade de produtos adicionado no carrinho deve ser a mesma quantidade de produtos exibido&#39;, async()=&gt;{
    const quantityProduct = await productsPage.getQuantityProducts();
    const quantityAddToCart = _.toNumber(await productsPage.getNumberProductAddToCart());
    expect(quantityAddToCart).to.equal(quantityProduct.length);
});</code></pre></div><ul>
<li>Para fazer a importação da biblioteca utilizei o seguinte linha de código:
<div class="highlight wrap-code"><pre tabindex="0"><code>const _ =require(&#39;lodash&#39;);</code></pre></div></li>
<li>Utilizei a função <strong>toNumber</strong> do loadsh para converter uma variável que veio em string para número.
<ul>
<li><code>const quantityAddToCart</code>: criação da variável que vai receber a quantidade de produtos que foi adicionado no carrinho.</li>
<li><code>_.toNumber</code>: Esta é uma função do Lodash que converte o valor passado para um número. O _ é uma convenção comum usada para importar o Lodash.</li>
<li><code>await productsPage.getNumberProductAddToCart()</code>: Função onde vai pegar o valor que mostra quantos produtos foram adicionados no carrinho</li>
</ul>
</li>
</ul>
<h3 id="terceiro-passo-lógica-no-step">Terceiro passo: lógica no step</h3>
<p>Dentro do steps podemos utilizar algumas lógicas do tipo for, if, entre outras para fazer as validações necessárias que precisamos.</p>
<p>Segue um exemplo de como foi utilizado:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Given (&#39;adicionar todos os produtos no carrinho&#39;, async()=&gt;{
    let listNameProducts = []
    listNameProducts = await productsPage.getListNameAllProducts();
    for (const key in listNameProducts) {
        await productsPage.clickAddToCartProduct(listNameProducts[key])
    }
});</code></pre></div><ul>
<li>Para criar o step eu precisei clicar no botão de adicionar de todos os produtos que está sendo mostrado na tela:
<ul>
<li><code>let listNameProducts = []</code>: Criei uma variável do tipo let para receber um objeto, que é a lista de produtos.</li>
<li><code>await productsPage.getListNameAllProducts();</code>: Método que retorna a lista de todos os nomes dos produtos que existem na página.</li>
<li><code>listNameProducts = await productsPage.getListNameAllProducts();</code>: Estou adicionando a lista de produtos dentro da variável.</li>
<li>Foi criado um for para fazer a interação com todos os produtos:
<ul>
<li><code>for (const key in listNameProducts)</code>: Este é um loop for-in que itera sobre todas as chaves do objeto listNameProducts. Para cada iteração, a variável key contém a posição da chave onde será pego o nome do produto.</li>
<li><code>await productsPage.clickAddToCartProduct(listNameProducts[key])</code>: Método criado para clicar no botão de adicionar no carrinho, quando informado o nome de um produto</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="quarto-passo-esquema-do-cenário">Quarto passo: esquema do cenário</h2>
<p>Adicionado o esquema de cenário para fazer a repetição do mesmo cenário com dois usuários diferentes, como a aplicação disponibiliza um usuário com problema e um que funciona, vou utilizar o esquema do cenário para passar o usuário com problema no mesmo cenário para demonstrar como seria exibido o erro caso tenha erro.</p>
<p>Segue um exemplo de como foi utilizado:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># language:pt
Funcionalidade: Products
  Como usuário do sistema Swag Labs
  Desejo acessar a pagina de produtos
  Para adicionar os produtos no carrinho

  Esquema do Cenário: Adicionar todos os produtos no carrinho
    Dado acessar a pagina &#34;Swag Labs&#34; com o usuário &lt;user&gt;
    Quando adicionar todos os produtos no carrinho
    Então a quantidade de produtos adicionado no carrinho deve ser a mesma quantidade de produtos exibido
    Exemplos:
    | user            | 
    | &#39;standard_user&#39; |
    | &#39;problem_user&#39;  |</code></pre></div><ul>
<li>Em vez de só adicionar o <code>Cenário</code> é adicionado <code>Esquema do Cenário</code></li>
<li>Na variável onde recebe os valores deve ser alterado, colocando o nome dela no meio dos sinais de menor e maior <code>&lt;user&gt;</code></li>
<li>No final do cenário é adicionado o step de <code>Exemplos</code> e abaixo dele uma tabela, onde a primeira linha é a variável e as linhas abaixo o valor que será utilizado:
<div class="highlight wrap-code"><pre tabindex="0"><code>  | user            | 
  | &#39;standard_user&#39; |
  | &#39;problem_user&#39;  |</code></pre></div></li>
</ul>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a id="logo" href="/qa-entusiasta/">
    <img src="/qa-entusiasta/images/logo.png">
</a>
        </div>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/qa-entusiasta/index.html"><i class="fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-topics">
          <ul class="enlarge morespace collapsible-menu">
          <li data-nav-id="/qa-entusiasta/sobre/index.html" class=""><a class="padding" href="/qa-entusiasta/sobre/index.html">Sobre</a></li>
          <li data-nav-id="/qa-entusiasta/projetos/index.html" class="parent "><input type="checkbox" id="R-section-cd7e3fe05412edb727eb4347db902d79" aria-controls="R-subsections-cd7e3fe05412edb727eb4347db902d79" checked><label for="R-section-cd7e3fe05412edb727eb4347db902d79"><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class="a11y-only">Submenu Projetos</span></label><a class="padding" href="/qa-entusiasta/projetos/index.html">Projetos</a><ul id="R-subsections-cd7e3fe05412edb727eb4347db902d79" class="morespace collapsible-menu">
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/index.html" class="parent "><input type="checkbox" id="R-section-c823a385e2795a52989742a2003151f4" aria-controls="R-subsections-c823a385e2795a52989742a2003151f4" checked><label for="R-section-c823a385e2795a52989742a2003151f4"><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class="a11y-only">Submenu Automação da aplicação Swag Lab</span></label><a class="padding" href="/qa-entusiasta/projetos/swaglabs/index.html">Automação da aplicação Swag Lab</a><ul id="R-subsections-c823a385e2795a52989742a2003151f4" class="morespace collapsible-menu">
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/git/index.html" class=""><a class="padding" href="/qa-entusiasta/projetos/swaglabs/git/index.html">Git</a></li>
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/codeceptjs/index.html" class=""><a class="padding" href="/qa-entusiasta/projetos/swaglabs/codeceptjs/index.html">CodeceptJS</a></li>
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/gherkin/index.html" class=""><a class="padding" href="/qa-entusiasta/projetos/swaglabs/gherkin/index.html">Gherkin</a></li>
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/pageobject/index.html" class=""><a class="padding" href="/qa-entusiasta/projetos/swaglabs/pageobject/index.html">Page Object</a></li>
          <li data-nav-id="/qa-entusiasta/projetos/swaglabs/cenariosmaiscomplexo/index.html" class="active"><a class="padding" href="/qa-entusiasta/projetos/swaglabs/cenariosmaiscomplexo/index.html">Cenário mais complexo</a></li></ul></li></ul></li>
          </ul>
        </div>
        <div id="R-shortcuts">
          <div class="nav-title padding">Links</div>
          <ul class="space">
            <li><a class="padding" href="https://www.linkedin.com/in/s%C3%A9rgio-schmitt-33b30248/"><i class='fab fa-linkedin'></i> LinkedIn</a></li>
            <li><a class="padding" href="https://github.com/sergiojrsc"><i class='fa-fw fab fa-github'></i> GitHub</a></li>
            <li><a class="padding" href="https://gitlab.com/sergiojrsc"><i class='fab fa-gitlab'></i> GitLab</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVariantSwitch">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fas fa-language fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch showVariantSwitch">
                <div class="padding menu-control">
                  <i class="fas fa-paint-brush fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-zen-light" value="zen-light" selected>Zen Light</option>
                      <option id="R-select-variant-zen-dark" value="zen-dark">Zen Dark</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fas fa-history fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter"><p>Sérgio Junior Schmitt</p>


          </div>
        </div>
      </div>
    </aside>
    <script src="/qa-entusiasta/js/clipboard.min.js?1710941247" defer></script>
    <script src="/qa-entusiasta/js/perfect-scrollbar.min.js?1710941247" defer></script>
    <script src="/qa-entusiasta/js/theme.js?1710941247" defer></script>
  </body>
</html>
